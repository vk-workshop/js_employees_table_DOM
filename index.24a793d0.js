function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(e,r){if(e){if("string"==typeof e)return t(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var r=e(document.querySelectorAll("thead th")),n=e(document.querySelectorAll("tbody tr")),a=document.querySelector("tbody"),o=!0,i=null,c=null,u=document.createElement("form");u.classList.add("new-employee-form");var l=function(t,e,r){var n=document.createElement("input");return n.setAttribute("type",t),n.setAttribute("name",e),n.setAttribute("data-qa",r),n.setAttribute("required",!0),n},s=function(t){var e=document.createElement("label");return e.textContent=t,e},d=function(t,e){var r=document.createElement("option");return r.textContent=t,r.setAttribute("value",e),r},f=l("text","name","name"),m=l("text","position","position"),p=l("number","age","age"),b=l("number","salary","salary"),y=document.createElement("button");y.textContent="Save to table";var v=s("Name:"),h=s("Position:"),C=s("Country:"),g=s("Age:"),A=s("Salary:"),E=document.createElement("select");u.setAttribute("id","formEmployees"),E.setAttribute("name","office"),E.setAttribute("data-qa","office"),y.setAttribute("type","submit"),y.setAttribute("form","formEmployees"),["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"].forEach(function(t){return E.appendChild(d(t,t))}),v.appendChild(f),h.appendChild(m),C.appendChild(E),g.appendChild(p),A.appendChild(b),u.append(v,h,C,g,A,y),document.body.appendChild(u),n.forEach(function(t){t.children[0].setAttribute("data-row","name"),t.children[1].setAttribute("data-row","position"),t.children[2].setAttribute("data-row","office"),t.children[3].setAttribute("data-row","age"),t.children[4].setAttribute("data-row","salary")});var w=function(t,e){var r=document.createElement("div");r.setAttribute("data-qa","notification"),r.style.display="flex",r.style.justifyContent="center",r.style.alignItems="center",r.classList.add("notification",e),r.textContent=t,document.body.appendChild(r),setTimeout(function(){r.remove()},3e3)},x=function(t){for(var e=(""+t).split("").reverse(),r="",n=0;n<e.length;n++){if(!(e.length>=3))return t;n%3==0&&(r+=","),r+=e[n]}return(r=r.split("").reverse().join("")).endsWith(",")&&(r=r.slice(0,-1)),r};y.addEventListener("click",function(t){t.preventDefault();var e=Object.fromEntries(new FormData(u));if(e.name.length<4||!e.name.trim()?(w("Name must be at least 4 letters","error"),!1):0!==e.position.length&&e.position.trim()?e.age<18||e.age>90?(w("Age must be between 18 and 90","error"),!1):0!==e.salary.length&&!(e.salary<0)||(w("Salary is required","error"),!1):(w("Position is required","error"),!1)){var r=document.createElement("tr");for(var n in e){var o=document.createElement("td");o.setAttribute("data-qa",n),o.setAttribute("data-row",n);var i=e[n];"salary"===n?o.textContent="$".concat(x(i)):o.textContent=i,r.appendChild(o)}a.appendChild(r),w("You added the new employee","success"),k(r);var c=!0,l=!1,s=void 0;try{for(var d,f=u[Symbol.iterator]();!(c=(d=f.next()).done);c=!0)d.value.value=""}catch(t){l=!0,s=t}finally{try{c||null==f.return||f.return()}finally{if(l)throw s}}}S()});var S=function(){(n=e(document.querySelectorAll("tbody tr"))).forEach(function(t,e){t.addEventListener("click",function(){var r=n.find(function(t){return t.classList.contains("active")});c!==e&&(r&&r.classList.remove("active"),t.classList.add("active"),c=e)})})};S();var L=function(t,e){switch(t){case"name":if(e.length<4||!e.trim())return w("Name must be at least 4 letters","error"),!1;break;case"position":if(0===e.length||!e.trim())return w("Position is required","error"),!1;break;case"office":if(0===e.length||!e.trim())return w("Country is required","error"),!1;break;case"age":if(e<18||e>90||!e.trim()||e.toLowerCase()!==e.toUpperCase())return w("Age must be between 18 and 90","error"),!1;break;case"salary":if(0===e.length||!e.trim()||0>+e||e.toLowerCase()!==e.toUpperCase())return w("Salary is required","warning"),!1}return!0},k=function(t){t.addEventListener("dblclick",function(t){var e=document.createElement("input"),r=t.target,n=t.target.textContent,a=r.getAttribute("data-row");if(a){e.classList.add("cell-input"),r.textContent="",r.appendChild(e),e.focus();var o=function(){var t=e.value.trim();L(a,t)?"salary"===a?r.textContent="$".concat(x(t)):r.textContent=""===t?n:t:r.textContent=n};e.addEventListener("blur",o),e.addEventListener("keydown",function(t){"Enter"===t.key&&o()})}})};n.forEach(function(t){k(t)}),r.forEach(function(t,r){t.addEventListener("click",function(t){var c=e(n);switch(o=t.currentTarget!==i||!o,i=t.currentTarget,t.currentTarget.textContent){case"Name":case"Position":case"Office":!function(t,e){t.sort(function(t,r){var n=t.children[e].textContent,a=r.children[e].textContent;return o?n.localeCompare(a):a.localeCompare(n)})}(c,r);break;case"Age":case"Salary":!function(t,e){t.sort(function(t,r){var n=t.children[e].textContent.replace(",","").replace("$",""),a=r.children[e].textContent.replace(",","").replace("$","");return o?n-a:a-n})}(c,r);break;default:return}a.innerHTML="",c.forEach(function(t){return a.appendChild(t)})})});
//# sourceMappingURL=index.24a793d0.js.map
