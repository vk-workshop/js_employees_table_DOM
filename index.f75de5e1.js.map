{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst tableHeaders = [...document.querySelectorAll('thead th')];\nlet tableRows = [...document.querySelectorAll('tbody tr')];\nconst tbody = document.querySelector('tbody');\nlet orderSort = true;\nlet lastClickedHeader = null;\nlet indexRow = null;\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\nconst createInput = (type, value, dataQa) => {\n  const input = document.createElement('input');\n\n  input.setAttribute('type', type);\n  input.setAttribute('name', value);\n  input.setAttribute('data-qa', dataQa);\n  input.setAttribute('required', true);\n\n  return input;\n};\n\nconst createLabel = (text) => {\n  const label = document.createElement('label');\n\n  label.textContent = text;\n\n  return label;\n};\n\nconst createOption = (text, value) => {\n  const option = document.createElement('option');\n\n  option.textContent = text;\n  option.setAttribute('value', value);\n\n  return option;\n};\n\nconst inputName = createInput('text', 'name', 'name');\nconst inputPosition = createInput('text', 'position', 'position');\nconst inputAge = createInput('number', 'age', 'age');\nconst inputSalary = createInput('number', 'salary', 'salary');\n\nconst button = document.createElement('button');\n\nbutton.textContent = 'Save to table';\n\nconst labelName = createLabel('Name:');\nconst labelPosition = createLabel('Position:');\nconst labelCountry = createLabel('Country:');\nconst labelAge = createLabel('Age:');\nconst labelSalary = createLabel('Salary:');\n\nconst selectCountry = document.createElement('select');\n\nform.setAttribute('id', 'formEmployees');\nselectCountry.setAttribute('name', 'office');\nselectCountry.setAttribute('data-qa', 'office');\nbutton.setAttribute('type', 'submit');\nbutton.setAttribute('form', 'formEmployees');\n\nconst countries = [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco',\n];\n\ncountries.forEach((c) => selectCountry.appendChild(createOption(c, c)));\n\nlabelName.appendChild(inputName);\nlabelPosition.appendChild(inputPosition);\nlabelCountry.appendChild(selectCountry);\nlabelAge.appendChild(inputAge);\nlabelSalary.appendChild(inputSalary);\n\nform.append(\n  labelName,\n  labelPosition,\n  labelCountry,\n  labelAge,\n  labelSalary,\n  button,\n);\n\ndocument.body.appendChild(form);\n\ntableRows.forEach((tr) => {\n  tr.children[0].setAttribute('data-row', 'name');\n  tr.children[1].setAttribute('data-row', 'position');\n  tr.children[2].setAttribute('data-row', 'office');\n  tr.children[3].setAttribute('data-row', 'age');\n  tr.children[4].setAttribute('data-row', 'salary');\n});\n\nconst showNotification = (message, type) => {\n  const div = document.createElement('div');\n\n  div.setAttribute('data-qa', 'notification');\n  div.style.display = 'flex';\n  div.style.justifyContent = 'center';\n  div.style.alignItems = 'center';\n  div.classList.add('notification', type);\n  div.textContent = message;\n  document.body.appendChild(div);\n\n  setTimeout(() => {\n    div.remove();\n  }, 3000);\n};\n\nconst validateInput = (obj) => {\n  if (obj.name.length < 4 || !obj.name.trim()) {\n    showNotification('Name must be at least 4 letters', 'error');\n\n    return false;\n  }\n\n  if (obj.position.length === 0 || !obj.position.trim()) {\n    showNotification('Position is required', 'error');\n\n    return false;\n  }\n\n  if (obj.age < 18 || obj.age > 90) {\n    showNotification('Age must be between 18 and 90', 'error');\n\n    return false;\n  }\n\n  if (obj.salary.length === 0 || obj.salary < 0) {\n    showNotification('Salary is required', 'error');\n\n    return false;\n  }\n\n  return true;\n};\n\nconst addComa = (value) => {\n  const improvedValue = ('' + value).split('').reverse();\n  let result = '';\n\n  for (let i = 0; i < improvedValue.length; i++) {\n    if (improvedValue.length >= 3) {\n      if (i % 3 === 0) {\n        result += ',';\n      }\n      result += improvedValue[i];\n    } else {\n      return value;\n    }\n  }\n\n  result = result.split('').reverse().join('');\n\n  if (result.endsWith(',')) {\n    result = result.slice(0, -1);\n  }\n\n  return result;\n};\n\nbutton.addEventListener('click', (e) => {\n  e.preventDefault();\n\n  const formData = new FormData(form);\n  const formDataObj = Object.fromEntries(formData);\n\n  if (validateInput(formDataObj)) {\n    const tr = document.createElement('tr');\n\n    for (const key in formDataObj) {\n      const td = document.createElement('td');\n\n      td.setAttribute('data-qa', key);\n      td.setAttribute('data-row', key);\n\n      const value = formDataObj[key];\n\n      if (key === 'salary') {\n        td.textContent = `$${addComa(value)}`;\n      } else {\n        td.textContent = value;\n      }\n      tr.appendChild(td);\n    }\n    tbody.appendChild(tr);\n    showNotification('You added the new employee', 'success');\n    editRow(tr);\n\n    for (const input of form) {\n      input.value = '';\n    }\n  }\n  updateTableRows();\n});\n\nconst updateTableRows = () => {\n  tableRows = [...document.querySelectorAll('tbody tr')];\n\n  tableRows.forEach((row, i) => {\n    row.addEventListener('click', () => {\n      const selectedRow = tableRows.find((r) => r.classList.contains('active'));\n\n      if (indexRow !== i) {\n        if (selectedRow) {\n          selectedRow.classList.remove('active');\n        }\n        row.classList.add('active');\n        indexRow = i;\n      }\n    });\n  });\n};\n\nupdateTableRows();\n\nconst validateField = (field, value) => {\n  switch (field) {\n    case 'name':\n      if (value.length < 4 || !value.trim()) {\n        showNotification('Name must be at least 4 letters', 'error');\n\n        return false;\n      }\n      break;\n\n    case 'position':\n      if (value.length === 0 || !value.trim()) {\n        showNotification('Position is required', 'error');\n\n        return false;\n      }\n      break;\n\n    case 'office':\n      if (value.length === 0 || !value.trim()) {\n        showNotification('Country is required', 'error');\n\n        return false;\n      }\n      break;\n\n    case 'age':\n      if (\n        value < 18 ||\n        value > 90 ||\n        !value.trim() ||\n        value.toLowerCase() !== value.toUpperCase()\n      ) {\n        showNotification('Age must be between 18 and 90', 'error');\n\n        return false;\n      }\n      break;\n    case 'salary':\n      if (\n        value.length === 0 ||\n        !value.trim() ||\n        +value < 0 ||\n        value.toLowerCase() !== value.toUpperCase()\n      ) {\n        showNotification('Salary is required', 'warning');\n\n        return false;\n      }\n      break;\n    default:\n      return true;\n  }\n\n  return true;\n};\n\nconst editRow = (row) => {\n  row.addEventListener('dblclick', (e) => {\n    const input = document.createElement('input');\n    const target = e.target;\n    const oldContent = e.target.textContent;\n\n    const field = target.getAttribute('data-row');\n\n    if (!field) {\n      return;\n    }\n\n    input.classList.add('cell-input');\n    target.textContent = '';\n    target.appendChild(input);\n    input.focus();\n\n    const saveChanges = () => {\n      const newValue = input.value.trim();\n\n      if (validateField(field, newValue)) {\n        if (field === 'salary') {\n          target.textContent = `$${addComa(newValue)}`;\n        } else {\n          target.textContent = newValue === '' ? oldContent : newValue;\n        }\n      } else {\n        target.textContent = oldContent;\n      }\n    };\n\n    input.addEventListener('blur', saveChanges);\n\n    input.addEventListener('keydown', (ev) => {\n      if (ev.key === 'Enter') {\n        saveChanges();\n      }\n    });\n  });\n};\n\ntableRows.forEach((row) => {\n  editRow(row);\n});\n\nfunction sortByText(rows, pos) {\n  rows.sort((a, b) => {\n    const textOne = a.children[pos].textContent;\n    const textTwo = b.children[pos].textContent;\n\n    return orderSort\n      ? textOne.localeCompare(textTwo)\n      : textTwo.localeCompare(textOne);\n  });\n}\n\nfunction sortByNumber(rows, pos) {\n  rows.sort((a, b) => {\n    const numOne = a.children[pos].textContent\n      .replace(',', '')\n      .replace('$', '');\n    const numTwo = b.children[pos].textContent\n      .replace(',', '')\n      .replace('$', '');\n\n    return orderSort ? numOne - numTwo : numTwo - numOne;\n  });\n}\n\nfunction updateTable(rows) {\n  tbody.innerHTML = '';\n  rows.forEach((row) => tbody.appendChild(row));\n}\n\ntableHeaders.forEach((th, index) => {\n  th.addEventListener('click', (e) => {\n    const copyTableRows = [...tableRows];\n\n    if (e.currentTarget !== lastClickedHeader) {\n      orderSort = true;\n    } else {\n      orderSort = !orderSort;\n    }\n    lastClickedHeader = e.currentTarget;\n\n    switch (e.currentTarget.textContent) {\n      case 'Name':\n      case 'Position':\n      case 'Office':\n        sortByText(copyTableRows, index);\n        break;\n      case 'Age':\n      case 'Salary':\n        sortByNumber(copyTableRows, index);\n        break;\n      default:\n        return;\n    }\n    updateTable(copyTableRows);\n  });\n});\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}